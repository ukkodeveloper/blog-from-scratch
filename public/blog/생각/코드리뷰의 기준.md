# 코드 리뷰의 기준

# 서론

---

슉(S-HOOK) 팀은 프론트와 백 모두 굉장히 코드리뷰가 활발했다. 팀원들이 모두 꼼꼼하고 열정적이었기 때문에 상대방의 코드를 굉장히 자세하게 확인해주었다. 그래서 분명히 좋은 점이 많았다. 우선, 코드가 제대로 동작하는지 확인이 가능했다. 그래서 코드가 배포되기 전에 버그를 미리 확인할 수 있었다. 또한 학습 측면에서도 훌륭했다. 서로 모르고 있던 지식을 공유할 수도 있었고, 다른 방향으로 생각을 확장할 수도 있었다.

그럼에도 때론 코드리뷰 자체가 간섭처럼 느껴질 때도 있었다. 그리고 상대방의 의중을 알 수 없는 리뷰가 달릴 때도 있어서 재차 확인 커멘트를 달아야 하기도 했다. 그래서 어떤 기준에서 코드리뷰를 했을 때 가장 효율적이고 건설적이었는지를 생각하면서 나만의 기준을 만들어보았다.

# 잘 작동하는가

---

![](images/Pasted%20image%2020240118144643.png)

코드가 제대로 작동하지 않는다면 반드시 코드 리뷰를 달아야 한다. 정상 동작을 확인하는 작업은 코드 리뷰의 최우선 가치라 생각한다. 위의 사진처럼 핵심 기능 자체가 제대로 동작하지 않는 경우에는 해당 코드에 “잘 작동하지 않는다” 라고 해도 괜찮다.

하지만 만약에 예상치 못한 버그같은 경우는, 어느 경우에 버그가 발생하는 지까지 커멘트에 달아두면 상대방도 이해하기 좋을 것 같다.

# 컨벤션에 어긋나는가

---

![](images/Pasted%20image%2020240118144701.png)

컨벤션에 어긋나는 경우도 언급해주어 고치게 하는 게 좋다. 컨벤션은 팀의 규칙이기 때문에 별다른 근거없이 언급만 해주어도 좋다.

만약 컨벤션에 어긋나지 않고 코드 자체에 별다른 문제가 없다면 “간섭”일 경우가 크다. 예를 들어 삼항 연산자에 대해 슉 팀에서는 별다른 컨벤션으로 정해진 바가 없었다. 나는 간단한 로직의 경우 삼항 연산자를 사용해서 한 줄로 표현하는 것을 좋아한다. 하지만, 누군가는 삼항연산자 자체가 가독성에 좋지 않다고 생각할 수도 있다. 그럼에도 근거가 없기 때문에 삼항 연사자 사용이나 제한을 권하면

# 이유가 궁금한가

---
![](images/Pasted%20image%2020240118144731.png)
코드 작성 의도가 궁금할 수 있다. 하지만 리뷰어 입장에서 그 궁금증이 생긴 이유를 같이 적어주면 좋다. 그리고 궁금한 부분도 구체적으로 짚어주는 것이 좋다. 그렇지 않으면 모든 부분을 설명을 해야할 수도 있다.

첫 번째 리뷰를 보면, 리뷰어가 예상한 점과 다르니 코드를 설명해달라고 명확하게 써놓았다. 선언형이 아니라 명령형으로 작성한 이유를 묻는 리뷰였다. 따라서 왜 명령형으로 작성했는지 설명할 수 있었다.

두 번째 리뷰를 보면 궁금한 이유가 명확하지 않아서 상대방의 생각을 추측해야 한다. 리뷰어가 보기에 잘못된 드라고 생각하는 것인지, 아니면 설명을 원하는 것인지 알 수 없다. 그래서 넘겨 짚으면서 리뷰를 할 수 밖에 없다. 추가로 만약 변경이 필요하다고 느껴진다면 질문보다는 자신의 생각을 이야기하는 것이 더 좋다. (다음 항목에 있다.)

# 다른 방법을 제시하고 싶은가

---
![](images/Pasted%20image%2020240118144802.png)
다른 방법을 제시하고 싶다면 이유를 명확하게 해야한다. 정확히는 리뷰어는 상대방이 코드 수정이 필요하다고 느낄 수 있도록 설명을 해주는 것이 좋다. 그래서 해당 부분이 어려운 것 같다.

그럼에도 몇 가지 코드 수정의 기준이 있다면, 가독성이 좋은지 (적절한 네이밍). 반복되기 때문에 재사용을 해야하는지. 아니면 성능상에 문제가 있는지 정도를 이유를 들 수 있을 것 같다.

어떤 경우에는 작업범위가 큰 경우가 있다. 예를 들어, 공통 컴포넌트로 분리할 수도 있는 상황이라면 `issue` 로 남기어서 다음 태스크에서 처리할 수 있도록 유도하는 것도 방법이다.

# 칭찬하고 싶은가

![](images/Pasted%20image%2020240118144902.png)

의도에 맞게 잘한 부분은 칭찬을 남기는 것이 좋다. 고칠 부분만 남겨 놓는다면 코드리뷰 자체가 함께 코드를 만드는 느낌이 아니라 다소 검사 받는 느낌이 들수도 있다. 이를 방지하기 위해 잘한 부분은 놓치지 않고 칭찬하는 것이 좋다.

# 추후 논의가 필요한가
![](images/Pasted%20image%2020240118144915.png)

커멘트를 주고받다보면 추후 논의가 필요할 때가 있다. 이때는 이야기로만 나눴지만, issue를 발행하거나 discussion을 만들어 놓으면 좋을 것 같다. 왜냐하면 추후 논의하자고 말만 적어놓고 실제로 반영하지 않았거나 심지어 논의조차 하지 않은 경우도 있었다.